          python3 <<'PYCODE'
          import xml.etree.ElementTree as ET

          ET.register_namespace('media', "http://search.yahoo.com/mrss/")
          ET.register_namespace('snf', "http://www.smartnews.be/snf")

          tree = ET.parse("feed.xml")
          root = tree.getroot()

          channel = root.find("channel")
          if channel is None:
              raise SystemExit("No <channel> found")

          # Ensure snf:channel exists
          snf_channel_tag = "{http://www.smartnews.be/snf}channel"
          snf_channel = channel.find(snf_channel_tag)
          if snf_channel is None:
              snf_channel = ET.Element(snf_channel_tag)
              channel.append(snf_channel)

          # Add or update SmartNews logo under snf:channel
          logo_tag = "{http://www.smartnews.be/snf}logo"
          logo = snf_channel.find(logo_tag)
          if logo is None:
              logo = ET.Element(logo_tag)
              snf_channel.append(logo)
          logo.text = "https://watchctv.github.io/SmartNews/CTV-Feed-Logo.png"

          # Add or update media thumbnails
          thumb_tag = "{http://search.yahoo.com/mrss/}thumbnail"
          for item in channel.findall("item"):
              thumb = item.find(thumb_tag)
              if thumb is None:
                  thumb = ET.Element(thumb_tag)
                  thumb.set("url", "https://watchctv.github.io/SmartNews/CTV-Feed-Logo.png")
                  item.append(thumb)

          tree.write("feed.xml", encoding="utf-8", xml_declaration=True)
          PYCODE
